<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UPSC + SSC Daily Study Tracker</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: #e5e7eb;
  margin: 0;
  padding: 10px;
}

h1 {
  text-align: center;
  color: #38bdf8;
}

.day {
  background: #020617;
  margin-bottom: 12px;
  padding: 12px;
  border-radius: 10px;
  border-left: 6px solid #38bdf8;
}

.day.missed {
  border-left-color: red;
}

label {
  display: flex;
  justify-content: space-between;
  margin: 6px 0;
  font-size: 15px;
}

input[type="checkbox"] {
  transform: scale(1.3);
}

textarea {
  width: 100%;
  margin-top: 8px;
  border-radius: 6px;
  border: none;
  padding: 6px;
}

button {
  width: 100%;
  padding: 12px;
  background: #38bdf8;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  margin-top: 10px;
}
</style>
</head>

<body>

<h1>ðŸ“˜ UPSC + SSC Daily Tracker</h1>

<div id="tracker"></div>

<button onclick="resetWeek()">Reset Week</button>

<script>
const days = ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];
const subjects = ["Maths (2 hrs)", "UPSC Subject 1", "UPSC Subject 2", "SSC Subject", "Revision / Test"];

const tracker = document.getElementById("tracker");

days.forEach(day => {
  const saved = JSON.parse(localStorage.getItem(day)) || {};
  const div = document.createElement("div");
  div.className = "day";
  div.id = day;

  let html = `<h3>${day}</h3>`;
  subjects.forEach(sub => {
    const checked = saved[sub] ? "checked" : "";
    html += `
      <label>${sub}
        <input type="checkbox" ${checked}
        onchange="save('${day}','${sub}',this.checked)">
      </label>`;
  });

  html += `<textarea placeholder="Remarks..."
    oninput="saveRemark('${day}',this.value)">${saved.remark || ""}</textarea>`;

  div.innerHTML = html;
  tracker.appendChild(div);
  checkMissed(day);
});

function save(day, sub, value) {
  const data = JSON.parse(localStorage.getItem(day)) || {};
  data[sub] = value;
  localStorage.setItem(day, JSON.stringify(data));
  checkMissed(day);
}

function saveRemark(day, text) {
  const data = JSON.parse(localStorage.getItem(day)) || {};
  data.remark = text;
  localStorage.setItem(day, JSON.stringify(data));
}

function checkMissed(day) {
  const data = JSON.parse(localStorage.getItem(day)) || {};
  const completed = subjects.every(s => data[s]);
  document.getElementById(day).classList.toggle("missed", !completed);
}

function resetWeek() {
  if(confirm("Reset entire week?")) {
    days.forEach(d => localStorage.removeItem(d));
    location.reload();
  }
}
</script>

</body>
</html>
